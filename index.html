<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Music Player</title>
		<meta name="description" content="音楽プレイヤー">
		<meta name="author" content="wswsans">
		<meta name="theme-color" content="#525252">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta property="og:image" content="icon/512.png">
		<link rel="shortcut icon" href="icon/32.png">
		<link rel="stylesheet" href="./style.css">
		<script type="text/javascript" src="./extension/jquery-3.6.0.min.js"></script>
		<script type="text/javascript" src="./extension/jsmediatags.min.js"></script>
		<script type="text/javascript" src="./extension/push.min.js"></script>
		<script type="text/javascript" src="./scriptV1.js"></script>
		<link rel="manifest" href="manifest.json">
	</head>
	<body>
		<div id="drag_drop"></div>
		<div id="shadow"></div>
		<div id="dialog">
			<h3>キーボードショートカット</h3>
			<table>
				<tr>
					<th>ctrl(cmd) + /</th>
					<td>キーボードショートカットを 表示 / 非表示</td>
				</tr>
				<tr>
					<th>ESC</th>
					<td>キーボードショートカットを 非表示</td>
				</tr>
				<tr>
					<th>C</th>
					<td>ファイルを選択</td>
				</tr>
				<tr>
					<th>スペース</th>
					<td>ファイル未選択: ファイルを選択する<br>ファイル選択済み: プレイヤーを起動する<br>再生中: 一時停止 / 再開</td>
				</tr>
				<tr>
					<th>N</th>
					<td>通知を受け取る / 受け取らない</td>
				</tr>
				<tr>
					<th>Shift + R</th>
					<td>再生時間以外を初期設定に戻す</td>
				</tr>
				<tr>
					<th>A</th>
					<td>前の曲</td>
				</tr>
				<tr>
					<th>D</th>
					<td>次の曲</td>
				</tr>
				<tr>
					<th>L</th>
					<td>全曲ループ(デフォルト) / 1曲ループ / ループ解除</td>
				</tr>
				<tr>
					<th>S</th>
					<td>シャッフル / シャッフル解除</td>
				</tr>
				<tr>
					<th>Shift + S</th>
					<td>(シャッフルにチェックがついてる時のみ) シャッフルして次の曲</td>
				</tr>
				<tr>
					<th><</th>
					<td>-0.05倍</td>
				</tr>
				<tr>
					<th>></th>
					<td>+0.05倍</td>
				</tr>
				<tr>
					<th>P</th>
					<td>速度変更時 ピッチを変える / 変えない</td>
				</tr>
				<tr>
					<th>↑</th>
					<td>音量 +10%</td>
				</tr>
				<tr>
					<th>↓</th>
					<td>音量 -10%</td>
				</tr>
				<tr>
					<th>M</th>
					<td>ミュート / ミュート解除</td>
				</tr>
				<tr>
					<th>←</th>
					<td>-5秒</td>
				</tr>
				<tr>
					<th>→</th>
					<td>+5秒</td>
				</tr>
				<tr>
					<th>W</th>
					<td>逆再生</td>
				</tr>
				<tr>
					<th>1..9</th>
					<td>特定のポイントに移動(再生時間の 70% は <strong>7</strong>)</td>
				</tr>
				<tr>
					<th>I</th>
					<td>アルバムアートとリップシンクを切り替える</td>
				</tr>
				<tr>
					<th>O</th>
					<td>表示されている曲のみ再生</td>
				</tr>
				<tr>
					<th>R</th>
					<td>リストを逆順にする</td>
				</tr>
				<tr>
					<th>F</th>
					<td>今再生しているファイルまでスクロールする</td>
				</tr>
				<tr>
					<th>Shift + 0..9</th>
					<td>特定の曲へ移動(曲のリストの7番は <strong>Shift + 7</strong>)<br>0は一番最後</td>
				</tr>
			</table>
		</div>
		<div id="dialog-en">
			<h3>Keyboard Shortcuts</h3>
			<table>
				<tr>
					<th>ctrl(cmd) + /</th>
					<td>Show / Hide keyboard shortcuts</td>
				</tr>
				<tr>
					<th>ESC</th>
					<td>Hide keyboard shortcuts</td>
				</tr>
				<tr>
					<th>C</th>
					<td>Choose files</td>
				</tr>
				<tr>
					<th>Space</th>
					<td>Unchosen: Choose files<br>Already chosen: Turn on the player<br>Playing: Pause / Unpause</td>
				</tr>
				<tr>
					<th>N</th>
					<td>Enable/disable notifications</td>
				</tr>
				<tr>
					<th>Shift + R</th>
					<td>Reset settings except playback time</td>
				</tr>
				<tr>
					<th>A</th>
					<td>Previous song</td>
				</tr>
				<tr>
					<th>D</th>
					<td>Next song</td>
				</tr>
				<tr>
					<th>L</th>
					<td>Loop all songs (default) / Loop one song / Unloop</td>
				</tr>
				<tr>
					<th>S</th>
					<td>Shuffle play / Unshuffle</td>
				</tr>
				<tr>
					<th>Shift + S</th>
					<td>Choose a song at random (only when Shuffle is enabled)</td>
				</tr>
				<tr>
					<th><</th>
					<td>Playback speed -0.05x</td>
				</tr>
				<tr>
					<th>></th>
					<td>Playback speed +0.05x</td>
				</tr>
				<tr>
					<th>P</th>
					<td>Change pitch/Not change pitch (when changing playback speed)</td>
				</tr>
				<tr>
					<th>↑</th>
					<td>Volume +10%</td>
				</tr>
				<tr>
					<th>↓</th>
					<td>Volume -10%</td>
				</tr>
				<tr>
					<th>M</th>
					<td>Mute / Unmute</td>
				</tr>
				<tr>
					<th>←</th>
					<td>-5 seconds</td>
				</tr>
				<tr>
					<th>→</th>
					<td>+5 seconds</td>
				</tr>
				<tr>
					<th>W</th>
					<td>Reverse playback</td>
				</tr>
				<tr>
					<th>1..9</th>
					<td>Move to a specific time (ex. 70% of playback time is <strong>7</strong>)</td>
				</tr>
				<tr>
					<th>I</th>
					<td>Switch between album art and lip sync</td>
				</tr>
				<tr>
					<th>O</th>
					<td>Playback only displayed songs</td>
				</tr>
				<tr>
					<th>R</th>
					<td>Reverse the song list</td>
				</tr>
				<tr>
					<th>F</th>
					<td>Scroll to the currently playing file</td>
				</tr>
				<tr>
					<th>Shift + 0..9</th>
					<td>Move to the specific song (ex. the 7th song is <strong>Shift + 7</strong>)<br>0 is the last</td>
				</tr>
			</table>
		</div>
		<header><span>Music Player</span></header>
		<section id="selector">
			<input type="file" accept=".mp3, .wav, .m4a, .flac, .m3u" id="play_data" multiple>
			<button id="start">▷</button>
		</section>
		<div id="main">
			<table id="details">
				<tr valign="top">
					<th>
						<div id="switch">
							<div class="loader">Loading...</div>
							<img id="switch_img" class="album_art"> <!-- アルバムアートと顔を行き来する -->
							<img id="mouth" src='./image/mouth_close.png' alt="">
						</div>
					</th>
					<td>
						<div id="desc_div"><span id="description">Title: <br>Artist: <br>Album: <br>Year: <br>Comment: <br>Track: <br>Genre: <br></span></div>
						<div id="lyrics_div"><span id="lyrics">Lyrics: <br></span></div>
					</td>
				</tr>
			</table>
			<!-- シークバー(再生時間) -->
			<div id="seek-bar" class="local-only">
			<input class="seek range" value="0" type="range" min="0" step="0.1">
			<input class="seek show" value="0.0" type="number" min="0" step="0.1"><span id="duration">/ 0.0</span>
			</div>
			<table id="system">
				<tr valign="top">
					<th align="left">
						<!-- 時間 -->
						<div id="time-control" class="local-only">
						<button class="time back similar_btn">←</button>
						<input class="time show" value="5" type="number" min="0" step="0.1"><span>s</span>
						<button class="time next similar_btn">→</button>
						<!-- 逆再生 -->
						<button class="on_off local-only" id="MReverse">←→</button>
						</div>
						<!-- 速度 -->
						<div id="speed-control" class="local-only">
						<input class="speed range" value="1" type="range" max="16" min="0" step="0.05">
						<button class="speed back similar_btn">←</button>
						<input class="speed show similar_num" value="1.0" type="number" max="16" min="0" step="0.05">
						<button class="speed next similar_btn">→</button>
						<button id="pitch" class="on_off">♩↕︎</button>
						</div>
						<!-- 音量 -->
						<input class="volume range" value="1" type="range" max="1" min="0" step="0.1">
						<button class="volume back similar_btn">←</button>
						<input class="volume show similar_num" value="1.0" type="number" max="1" min="0" step="0.1">
						<button class="volume next similar_btn">→</button>
						<button id="mute" class="on_off on">)))</button>
						<br>
						<button id="notification" class="on_off">❶</button>
						<button id="reset">↩︎</button>
						<button id="pause" class="on_off">| |</button>
						<!-- 曲 -->
						<button class="audio back">«</button>
						<button class="audio next">»</button>
						<!-- ループ -->
						<button id="loop" class="local-only">⟲</button>
						<!-- シャッフル -->
						<button id="shuffle" class="on_off">⤮</button>
						<button id="shuffle_btn">⤮→</button>
						<br>
						<span>Track: </span><input id="list_num" value="1" type="number" min="1" step="1">
						<span>Search: </span>
						<select class="search selector">
							<option value="MName" selected>FileName</option>
							<option value="MTitle">Title</option>
							<option value="MArtist">Artist</option>
							<option value="MAlbum">Album</option>
							<option value="MYear">Year</option>
							<option value="MComment">Comment</option>
							<option value="MTrack">Track</option>
							<option value="MGenre">Genre</option>
							<option value="MLyrics">Lyrics</option>
						</select>
						<input class="search text" type="text">
						<button class="on_off" id="showed_only">▶︎≡</button>
						<br>
						<span>Sort: </span>
						<select class="sort selector">
							<option value="value" selected>None</option>
							<option value="MName">FileName</option>
							<option value="MTitle">Title</option>
							<option value="MArtist">Artist</option>
							<option value="MAlbum">Album</option>
							<option value="MYear">Year</option>
							<option value="MComment">Comment</option>
							<option value="MTrack">Track</option>
							<option value="MGenre">Genre</option>
							<option value="MLyrics">Lyrics</option>
						</select>
						<button class="on_off" id="reverse">↑↓</button>
					</th>
					<td>
						<ol id="music_list"></ol>
					</td>
				</tr>
			</table>
		</div>
	</body>
</html>
